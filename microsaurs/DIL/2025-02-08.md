# Chap 9. 운영체제 시작하기

## 운영체제를 알아야 하는 이유

### 1. 운영체제란

시스템 자원(자원) = 프로그램 실행에 마땅히 필요한 요소  
ex. CPU, 메모리, 보조기억장치, 입축력장치 등

**운영체제**  
실행할 프로그램에 필요한 자원을 할당하고, 프로그램이 올바르게 실행되도록 돕는 특별한 프로그램

- 항상 컴퓨터가 부팅될 때 메모리 내 `커널 영역` 이라는 공간에 따로 적재되어 실행
- 커널 영역을 제외한 사용자가 이용하는 응용 프로그램이 적재되는 영역은 `사용자 영역`

→ 운영체제는 커널 영역에 적재되어 사용자 영역에 적재된 프로그램들에 자원을 할당하고 이들이 올바르게 실행되도록 돕는 역할

### 2. 운영체제를 알아야 하는 이유

→ **문제 해결 능력 향상**을 위해 !  
운영체제는 현재 하드웨어의 상태는 어떤지, 코드가 어떻게 실행됐는지, 하드웨어 상에 어떤 문제가 있었는지 등을 여러분에게 상세히 알려줄 수 있기 때문에 **문제 해결의 실마리를 제공**

## 운영체제의 큰 그림

### 1. 운영체제의 심장, 커널

**커널** → 운영체제의 핵심 서비스를 담당하는 부분
**사용자 인터페이스** → 윈도우의 바탕화면과 같이 사용자가 컴퓨터와 상호작용할 수 있는 통로

> - 그래픽 유저 인터페이스(GUE) : 그래픽 기반 상호작용
> - 커맨드 라인 인터페이스(CLI) : 명령어 기반 상호작용

### 2. 이중 모드와 시스템 호출

운영체제는 응용 플그램들이 자원에 접근하려고 할 때 오직 자신을 통해서만 접근하도록 하여 자원을 보호  
→ 응용 프로그램의 자원 접근을 대행하는 일종의 문지기 역할

- **이중 모드**  
   CPU가 명령어를 실행하는 모드를 크게 **사용자 모드**와 **커널 모드**로 구분하는 방식
- **사용자 모드**  
   운영체제 서비스를 제공받을 수 없는 실행 모드(커널 영역의 코드를 실행할 수 없음)  
   → 일반적인 응용 프로그램은 기본적으로 사용자 모드로 실행
- **커널 모드**  
   운영체제 서비스를 제공받을 수 있는 실행 모드(커널 영역 코드 실행 가능)  
   CPU가 커널 모드로 명령어를 실행하면 자원에 접근하는 명령어를 비롯한 **모든 명령어 실행 가능**  
  \* CPU가 어떤 모드인지는 `플래그 레지스터의 슈퍼바이저 플래그`를 보면 알 수 있음!

- **시스템 호출**  
   운영체제 서비스를 제공받기 위한 요청  
   → 사용자 모드로 실행되는 프로그램은 시스템 호출을 통해 커널 모드로 전환하여 운영체제 서비스를 제공받을 수 있음
  > **소프트웨어 인터럽트**  
  > 인터럽트를 발생시키는 특정 명령어에 의해 발생하는 인터럽트

### 3. 운영체제의 핵심 서비스

→ 프로세스 관리, 자원 접근 및 할당, 파일 시스템 관리

**[프로세스 관리]**

- 프로세스 : 실행 중인 프로그램  
   일반적으로 하나의 CPU는 한 번에 하나의 프로세스만 실행, CPU는 이 프로세스들을 조금씩 번갈아 가며 실행  
  → 운영체제는 다양한 프로세스를 일목요연하게 관리하고 실행할 수 있어야 함

**[자원 접근 및 할당]**  
모든 프로세스는 실행을 위해 자원이 필요  
운영체제는 프로세스들이 사용할 자원에 접근하고 조작, 프로세스에 필요한 자원 할당

- **CPU**  
   일반적으로 메모리에는 여러 프로세스가 적재되고, 하나의 CPU는 한 번에 하나의 프로세스만 실행
  > **CPU 스케줄링**  
  > 운영체제가 프로세스들에 공정하게 CPU를 할당하기 위해 우선 순위를 결정하는 일
- **메모리**  
   메모리에 적재된 프로세스들은 크기도, 주소도 다양  
   같은 프로세스여도 실행할 때마다 주소가 달라질 수 있음  
   → 운영체제는 새로운 프로세스가 적재될 때마다 어느 주소에 적재해야할 지 결정
- **입출력장치**  
   인터럽트 서비스 루틴은 운영체제가 제공하는 기능으로 커널 영역에 존재  
   → 운영체제는 인터럽트르 ㄹ처리하는 프로그램, 즉 인터럽트 서비스 루틴을 제공함으로써 입출력 작업 수행

**[파일 시스템 관리]**  
**파일 시스템** : 파일을 열기, 생성, 삭제 등의 행위 + 파일을 디렉토리로 관리하는 행위
