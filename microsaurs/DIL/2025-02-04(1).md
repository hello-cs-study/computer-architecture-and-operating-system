# Chap7. 보조기억장치

### 다양한 보조기억장치

1. **하드 디스크**  
   자기적인 방식으롣 데이터를 저장하는 보조기억장치 (=자기 디스크 magnetic disk)

   - **플래터**  
     실질적으로 데이터가 저장되는 곳 (동그란 원판)  
     자기 물질로 덮여 있어 수많은 N극과 S극을 저장  
     \* N극과 S극은 0과 1의 역할 수행
   - **스핀들**  
     플래터를 회전시키는 구성 요소
   - **RPM(분당 회전수)**  
     스핀들이 플래터를 돌리는 속도
   - **헤드**  
     플래터를 대상으로 데이터를 읽고 쓰는 구성 요소  
     플래터 위에서 미세하게 떠 있는 채로 데이터를 읽고 쓰는 부품 (바늘 같이 생김)
   - **디스크 암**  
     헤드를 원하는 위치로 이동시키는 요소

   많은 양의 데이터를 저장해야 하므로 일반적으로 여러 겹의 플래터로 이루어져 있고, 플래터 양면 모두 사용 가능

   **[플래터에 데이터가 저장되는 과정]**

   > **트랙** : 플래터를 여러 동심원으로 나누었을 때 그 중 하나의 원  
   > **섹터** : 트랙이 피자처럼 여러 조각으로 나누어진 것 중 한 조각  
   > **블록** : 하나 이상의 섹터를 묶어 표현  
   > 섹터는 하드 디스크의 **가장 작은 전송 단위**  
   > \* 하나의 섹터는 일반적으로 512바이트 정도의 크기 (하드 디스크에 따라 차이 O)  
   > **실린더** : 여러 겹의 플래터 상에서 같은 트랙이 위치한 곳을 모아 연결한 논리적 단위

   ➡️ 한 플래터를 동심원으로 나눈 공간 = `트랙`  
    ➡️ 같은 트랙끼리 연결한 원통 모양의 공간 = `실린더`

   💡연속된 정보는 한 실린더에 기록 → 디스크 암을 움직이지 않고도 바로 데이터에 접근할 수 있기 때문

   **[하드 디스크가 저장된 데이터에 접근하는 시간]**

   > **탐색 시간** : 접근하려는 데이터가 저장된 트랙까지 헤드를 이동시키는 시간  
   > **회전 지연** : 헤드가 있는 곳으로 플래터를 회전시키는 시간  
   > **전송 시간** : 하드 디스크와 컴퓨터 간에 데이터를 전송하는 시간

   ➡️ 하드 디스크에서 다량의 데이터를 탐색하고 읽어 들이는 시간은 생각보다 어마어마함..  
    💡탐색 시간과 회전 지연을 단축시키기 위해서는 플래터를 빨리 돌려 RPM을 높이는 것도 중요,  
    but 데이터가 플래터 혹은 헤드를 조금만 옮겨도 접근할 수 있는 곳에 위치해 있는 것도 중요  
    <br>

2. **플래시 메모리**  
   전기적으로 데이터를 읽고 쓸 수 있는 반도체 기반의 저장 장치  
   플래시 메모리는 보조기억장치 범주에만 속한다기보다는 다양한 곳에서 널리 사용하는 저장 장치로 보는 것이 O  
   ➡️ USB 메모리, SD 카드, SSD 등..

   > NAND 플래시 메모리 : NAND 연산을 수행하는 회로 → 대용량 저장 장치로 많이 사용, 대부분의 플래시 메모리  
   > NOR 플래시 메모리 : NOR 연산을 수행하는 회로

<br>

- **셀 cell**  
   플래시 메모리에서 데이터를 저장하는 가장 작은 단위  
   셀이 모이고 모여 **MB, GB, TB 용량을 갖는 저장 장치**가 되는 것!

  > **SLC(Single Level Cell)** : 한 셀에 1비트를 저장할 수 있는 플래시 메모리  
  > **MLC(Multiple Level Cell)** : 한 셀에 2비트를 저장할 수 있는 플래시 메모리  
  > **TLC(Triple Level Cell)** : 한 셀에 3비트를 저장할 수 있는 플래시 메모리  
  >  ➡️ 플래시 메모리의 수명, 속도, 가격에 큰 영향

  ### SLC 타입

  - 한 셀로 두 개의 정보를 표현
  - 비트의 빠른 입출력
  - 수명도 MLC나 TLC보다 길어서 수만에서 수십만 번 가까이 데이터를 쓰고 지우고를 반복
  - 용량 대비 가격이 높음

  ➡️ 보통 기업에서 데이터를 읽고 쓰기가 매우 많이 반복되며 고성능의 빠른 저장 장치가 필요한 경우에 사용

  ### MLC 타입

  - 한 셀로 네 개의 정보 표현
  - SLC보다 일반적으로 속도와 수명이 떨어지지만, 한 셀에 두 비트씩 저장할 수 있다는 점에서 **대용량화가 유리**
  - 용량 대비 가격이 저렴

  ### TLC 타입

  - 한 셀당 3비트씩 저장
  - 한 셀로 여덟 개의 정보를 표현
  - 대용화 하기 유리
  - SLC나 MLC보다 수명과 속도가 떨어지지만 용량 대비 가격이 저렴

  > 썼다 지우기를 자주 반복 or 높은 성능 → 고가의 SLC  
  > 저가의 대용량 저장 장치 → TLC  
  > 그 중간 → MLC

- **페이지 page**  
   셀들이 모여 만들어진 단위  
   읽기와 쓰기가 이루어지는 단위  
   Free, Valid, Invalid 상태
  > Free : 어떠한 데이터도 저장하고 있지 않아 새로운 데이터를 저장할 수 있는 상태  
  > Valid : 이미 유효한 데이터를 저장하고 있는 상태  
  > Invalid : 쓰레기값이라 부르는 유효하지 않은 데이터를 저장하고 있는 상태  
  >  \* 플래시 메모리는 하드 디스크와 달리 덮어쓰기가 불가능 → Valid 상태인 페이지에는 새 데이터 저장 불가능
- **블록 block** : 페이지가 모여 만들어진 단위
- **플레인 plane** : 블록이 모여 만들어진 단위
- **다이 die** : 플레인이 모여 만들어진 단위

  \* **가비지 컬렉션**  
   유효한 페이지들만을 새로운 블록으로 복사 → 기존의 블록을 삭제하는 기능

<br>

### RAID의 정의와 종류

1. **RAID의 정의**  
   Redundatn Array of Independent Disks  
   주로 하드 디스크와 SSD를 사용하는 기술  
   데이터의 안전성 혹은 높은 성능을 위해 **여러 개의 물리적 보조기억장치를 마치 하나의 논리적 보조기억장치처럼 사용하는 기술**

2. **RAID의 종류**  
   RAID 레벨 : RAID 구성 방법
   RAID 0, RAID 1, RAID 2, RAID 3, RAID 4, RAID 5, RAID 6  
   \* RAID 2, RAID 3은 현재 활용 X

   ### RAID 0

   여러 개의 보조기억장치에 데이터를 단순히 나누어 저장하는 구성 방식  
    저장되는 데이터가 하드 디스크 개수만큼 나뉘어 저장

   > **스트라입** : 줄무늬처럼 분산되어 저장된 데이터  
   > **스트라이핑** : 분산하여 저장하는 것  
   >  ➡️ 하나의 대용량 저장 장치를 이용했다면 여러 번에 걸쳐 읽고 썼을 데이터를 동시에 읽고 쓸 수 있기 때문에 저장된 데이터를 읽고 쓰는 속도가 빨라짐  
   > 저장된 정보가 안전하지 않다는 단점  
   >  ➡️ 하나의 하드 디스크에 문제가 생기면 다른 모든 하드 디스크의 정보를 읽는데 문제가 생길 수 있음

   ### RAID 1

   **복사본**을 만드는 방식

   > **미러링** : 거울처럼 완전한 복사본을 만드는 구성  
   > ➡️ 원본과 복사본을 만드는 구조이기 때문에 쓰기 속도가 RAID 0보다 느림  
   > 복구가 매우 간단하다는 장점  
   > 하드 디스크 개수가 한정되었을 때 사용 가능한 용량이 적어진다는 단점

   ### RAID 4

   RAID 1처럼 완전한 복사본을 만드는 대신 오류를 검출하고 복구하기 위한 정보를 저장한 장치를 두는 구성 방식

   > **패리티 비트** : 오류를 검출하고 복구하기 위한 정보  
   > 패리티를 저장한 장치를 이용해 다른 장치들의 오류를 검출하고, 오류가 있다면 복구  
   > ➡️ RAID 1보다 적은 하드 디스크로도 데이터를 안전하게 보관

   어떤 새로운 데이터가 저장될 때마다 패리티를 저장하는 디스크에도 데이터를 쓰게되므로 패리티를 저장하는 장치에 `병목 현상`이 발생한다는 문제 생김

   ### RAID 5

   패리티 정보를 분산하여 저장하는 방식으로 RAID 4의 병목 현상 해소

   ### RAID 6

   기본적으로 RAID 5와 같으나, **서로 다른 두 개의 패리**티를 두는 방식  
    오류를 검출하고 복구할 수 있는 수단이 2개 ➡️ RAID 4, 5보다 안전한 구성  
    새로운 정보를 저장할 때마다 함께 저장할 패리티가 두 개이므로 쓰기 속도는 RAID 5보다 느림  
    ➡️ 저장 속도를 희생하더라도 **데이터를 더욱 안전하게 보관하고 싶을 때 사용**하는 방식
